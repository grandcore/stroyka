# Генерация документации

Концепция нашего генератора - максимальная модульность и простота кастомизации, возможность легко автоматизировать документирование проекта любой сложности и использующего разные технологии. 

Вы можете присоедениться к обсуждению в нашем чате: https://t.me/joinchat/CdXoy9PeAjI2NTJh

## Принцип работы

- На входе, из json файла принимается информация о папках проекта;
- У каждой папки есть тип. В зависимости от типа - запускается соответствующий скрипт обработки папки;
- Скрипт парсит папку и ищет там нужные файлы по своему шаблону;
- Файл, в зависимости от типа, отправляется в нужный генератор, который формирует файл документации;
- После возврата файла из генератора - скрипт типа добавляет файлу необходимые мета-данные для генератора сайта документации;
- Файл отправляется в input папку генератора сайта, который обрабатывает файлы в соответствии с его темплейтом и настройками.



## Структура проекта

На данный момент ведётся поиск оптимальной структуры. Ниже указан её текущий вид.

- exemples/ - файлы для тестирования работы генератора;
- generators/ - модули генераторов файлов документации;
- scripts/ - сценарии обработки типив папок;
- site/input/ - папка, куда переносятся подготовленные файлы документации для генерации сайта;
- site/output/ - папка где сохраняется сгенерированный сайт документации;
- site/theme/ - темплейт и ассеты для сайта документации;
- site/.eleventy.js - конфигуратор сайта документации;
- utils/ - модули-хелперы для скриптов;
- .temp/ - временные файлы с наработками;
- cast.json - слепок проекта, нужен, что бы не генерировать файлы и папки, которые не были изменены с прошлой генерации;
- config.json - главный файл настроек генератора; 
- Dockerfile - генерация может работать через Docker;
- start.js - скрипт запуска генератора. формирует список для генерации.

## Текущие наработки

В данный момент мы изучаем возможные технологии, которые можно использовать в нашем генераторе. На данный момент остановились на генераторе статических сайтов Eleventy (см. `npx eleventy --serve`). Генерацию документации кода для конкретного файла можно реализовать с помощью JSDoc (`npx jsdoc2md index.js | tee index.md`). Пока что идёт активный творческий процесс, в общем.

**Возможные зависимости:**

- https://github.com/11ty/eleventy
- https://github.com/swagger-api/swagger-node
- https://github.com/jsdoc/jsdoc
- https://github.com/Surnet/swagger-jsdoc
- https://github.com/syroegkin/swagger-markdown
- https://github.com/styleguidist/react-styleguidist


